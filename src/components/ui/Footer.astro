---
import { profile, siteInfo } from '../../settings'
import { getLangFromUrl } from '../../i18n/utils'
import CounterAPI from './CounterAPI.astro'

const { fullName } = profile
const currentLang = getLangFromUrl(Astro.url)

const buildTime = import.meta.env.BUILD_TIME || siteInfo.lastUpdated

const copyright = {
  zh: `最后更新时间：${buildTime}`,
  en: `Last updated: ${buildTime}`,
  ja: `最終更新：${buildTime}`
}
---

<footer class='footer footer-center bg-base-100 text-base-content px-4 py-6 border-t'>
	<aside class="flex flex-col sm:flex-row items-center justify-center gap-4 w-full">
		<p>
			{copyright[currentLang as keyof typeof copyright] || copyright.en}
		</p>
		<CounterAPI />
	</aside>
</footer>
