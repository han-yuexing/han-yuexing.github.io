<!DOCTYPE html>
<html>
<head>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
  <script>
    // 初始化 Firebase 配置
    const firebaseConfig = {
      // Your Firebase configuration
      // ...
      apiKey: "AIzaSyADd_BIDIEqLWRHZ9dzhhIWInc-XX5TAnY",
    authDomain: "count-2000.firebaseapp.com",
    projectId: "count-2000",
    storageBucket: "count-2000.appspot.com",
    messagingSenderId: "138022054955",
    appId: "1:138022054955:web:8a813edca91ed6588dce6e",
    measurementId: "G-JJX2TF6MZ5"
    };

    // 初始化 Firebase 应用
    firebase.initializeApp(firebaseConfig);

    // 获取实时数据库引用
    const database = firebase.database();

    // 监听访问量变化并更新前端界面
    database.ref('visitors').on('value', function(snapshot) {
      // 获取访问量数据
      const visitors = snapshot.val();
      
      // 计算访问量总数
      const visitorCount = Object.keys(visitors).length;
      
      // 更新前端界面上的访问量数字
      document.getElementById('visitorCount').innerHTML = visitorCount;
    });
  </script>
</head>
<body>
  <h1>Welcome to My Website</h1>
  <span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
  <p>访问量: <span id="visitorCount">0</span></p>
</body>
</html>
